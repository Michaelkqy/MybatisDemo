<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>tester</title>
    <script src="libs/jquery-2.1.4.min.js"  type="text/javascript"></script>
    <script type="text/javascript" >


        var headers = { "token":"" };
        function req(){
            var json = $('#json').val();
            var data = eval("("+json+")");
            var url = $('#url').val();
            var method = $('#method').val();

            return $.ajax({
                type:method,
                headers:headers,
                url: url,
                dataType: 'json',
                contentType: 'application/json',
                data: JSON.stringify(data)
            });
        }
        function sort(result){
            var list = [];
            for(var key in result){
                list.push(result[key]);
            }

            list.sort(function(a,b){
                var ib = parseInt(b['__index'])
                var ia = parseInt(a['__index']);
                return ib-ia;
            });
            return list;
        }
        function fn(){
            $('#result').html('');

            $.when(req()).then(function(result){
                //根据 map 排序

                var sorted = sort(result);

                $('#result').html(JSON.stringify(sorted));
            });
        }
    </script>
</head>
<body>
<div>
    <input id="url" type="text" value="/api/samples/v0.1/users" maxlength="200">
    <select id="method">
        <option value="POST" selected>POST</option>
        <option value="PUT" >PUT</option>
        <option value="DELETE">DELETE</option>
        <option value="GET">GET</option>
    </select><input type="button" value="submit" onclick="javascript:fn();"> <br/>
    <textarea id="json" maxlength="2000" rows="10" style="width:100%;">['05A8ED3E-0BC2-455C-8EB9-6BEC733BBCD1','c2075da4-21e9-4a69-9761-a0d14bfaa463']</textarea>
</div>
<div id="result"></div>
</body>
</html>